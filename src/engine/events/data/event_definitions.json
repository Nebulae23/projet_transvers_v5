{
  "events": [
    {
      "id": "goblin_ambush_early",
      "type": "COMBAT",
      "parameters": {
        "duration": 0,
        "priority": 5,
        "repeatable": false,
        "cooldown": 0,
        "specific_params": {
          "enemy_group": "goblin_scouts",
          "difficulty": 1
        }
      },
      "conditions": [
        {
          "type": "CompoundCondition",
          "logic": "AND",
          "conditions": [
            {
              "type": "TimeCondition",
              "min_time": 120,
              "max_time": 600
            },
            {
              "type": "ProgressCondition",
              "progress_key": "player_level",
              "required_value": 1,
              "comparison": "=="
            },
            {
              "type": "ResourceCondition",
              "resource_type": "gold",
              "max_amount": 50,
              "target": "player"
            }
          ]
        }
      ],
      "consequences": {
        "on_start": [],
        "on_success": [
          {"action": "grant_resource", "target": "player", "resource": "gold", "amount": 25},
          {"action": "grant_xp", "target": "player", "amount": 50}
        ],
        "on_failure": [
          {"action": "apply_status_effect", "target": "player", "effect": "injured", "duration": 300}
        ],
        "on_end": []
      }
    },
    {
      "id": "sudden_storm",
      "type": "WEATHER",
      "parameters": {
        "duration": 180,
        "priority": 8,
        "repeatable": true,
        "cooldown": 1800
      },
      "conditions": [
        {
          "type": "TimeCondition",
          "min_time": 300
        }
      ],
      "consequences": {
        "on_start": [
           {"action": "set_weather", "condition": "storm", "intensity": 0.8}
        ],
        "on_update": [],
        "on_end": [
           {"action": "revert_weather"}
        ]
      }
    },
    {
      "id": "merchant_arrival",
      "type": "STORY",
      "parameters": {
        "duration": 0,
        "priority": 3,
        "repeatable": false
      },
      "conditions": [
         {
            "type": "ProgressCondition",
            "progress_key": "main_quest_step",
            "required_value": 5,
            "comparison": "=="
         }
      ],
      "consequences": {
         "on_start": [
            {"action": "spawn_npc", "npc_id": "traveling_merchant", "location": "city_gate"},
            {"action": "show_notification", "message": "Un marchand itinérant est arrivé en ville."}
         ]
      }
    },
    {
      "id": "minor_resource_cache",
      "type": "RESOURCE",
      "parameters": {
        "duration": 0,
        "priority": 2,
        "repeatable": true,
        "cooldown": 600
      },
      "conditions": [],
      "consequences": {
         "on_start": [
            {"action": "grant_resource", "target": "player", "resource": "wood", "amount": 15},
            {"action": "grant_resource", "target": "player", "resource": "stone", "amount": 10},
            {"action": "show_notification", "message": "Vous avez trouvé une petite cache de ressources !"}
         ]
      }
    }
  ]
}