sequenceDiagram
    participant Game
    participant RE as RenderEngine
    participant SM as ShaderManager
    participant MS as MaterialSystem
    participant LS as LightingSystem
    participant PP as PostProcessor
    participant PS as ParticleSystem
    participant Scene

    Game->>RE: initialize()
    RE->>SM: loadShaders()
    RE->>MS: initializeMaterials()
    RE->>LS: setupLights()
    RE->>PP: setupEffects()
    RE->>PS: initialize()

    loop Each Frame
        Game->>RE: render(scene)
        RE->>Scene: update(deltaTime)
        RE->>LS: renderShadowMaps()
        RE->>SM: useShader("geometry")
        RE->>MS: bindMaterials()
        RE->>Scene: renderGeometry()
        RE->>SM: useShader("lighting")
        RE->>LS: applyLighting()
        RE->>PS: update(deltaTime)
        RE->>PS: render()
        RE->>PP: process()
        PP-->>RE: finalImage
        RE-->>Game: frameComplete
    end